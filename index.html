<html>
<head>
    <title>CapKom Wizard</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <link rel="stylesheet" href="lib/jquery/jquery-ui.min.css" />

    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="lib/ttswidget/ttswidget.css" />

    <script type="text/javascript" src="https://getfirebug.com/firebug-lite.js"></script>
    <script type="text/javascript" src="lib/jquery/jquery-1.7.1.js"></script>
    <script type="text/javascript" src="lib/jquery/jquery-ui.1.9m5.js"></script>
    <script type="text/javascript" src="lib/underscore-min.js"></script>
    <script type="text/javascript" src="lib/backbone.js"></script>
    <script type="text/javascript" src="lib/json-serialization.js"></script>

    <script type="text/javascript" src="lib/jquery/themeswitcher.js"></script>

    <script type="text/javascript" src="lib/capkomwizard.js"></script>

<!--    <script type="text/javascript" src="lib/ttswidget/ttswidget.js"></script>-->
<!--    <script type="text/javascript" src="lib/capkomsymbolwidget/capkomsymbolwidget.js"></script>-->

<!--    <script type="text/javascript" src="lib/symbolset.js"></script>-->
<!--    <script type="text/javascript" src="lib/symbolsets.js"></script>-->

<!--    <script type="text/javascript" src="lib/wizard.js"></script>-->
<!--    <script type="text/javascript" src="lib/stages.js"></script>-->
<!--    <script type="text/javascript" src="lib/profile.js"></script>-->
<!--    <script type="text/javascript" src="lib/navigation.js"></script>-->
    <script type="text/javascript">
        // Reference implementation of Backbone.sync for saving 
        Backbone.sync = function(method, entity, options){
            // Store profile in localStorage
            localStorage.profile = JSON.stringify(entity.toJSON());

            var backendBaseUri = "http://www.online-atelier.com/OnlineAtelier/home/capkom?callback=?";
//            var backendBaseUri = "http://localhost:3000/?callback=?";
//            var backendBaseUri = "test.json";
            switch(method){
                case 'create':
                    var jqXHR = jQuery.ajax({
                        url: backendBaseUri,
                        data: {
                            json: JSON.stringify(Capkom.profile)
                        },
                        dataType: 'json',
                        success: function(res){
                            console.info("successful GET:", res);
                            options.success(entity);
                        },
                        error: function(jqXHR, textStatus, errorThrown){
                            console.error("couldn't save to ", backendBaseUri, arguments);
                        }
                    });
                    console.info("jqXHR", jqXHR);
            }
            console.info(entity, arguments);
        };
    </script>

    <style>
        /* Reset styles */
        html, body, div, span, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre,
        abbr, address, cite, code, del, dfn, em, img, ins, kbd, q, samp, small, strong, sub, sup,
         var, b, i, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, 
        tfoot, thead, tr, th, td, article, aside, canvas, details, figcaption, figure, footer, 
        header, hgroup, menu, nav, section, summary, time, mark, audio, video
         { margin: 0; padding: 0; border: 0; font-size: 100%; font: inherit; vertical-align: baseline; }
 
        header {
            padding-bottom: 1em;
        }
        .logo {
            padding: 0.4em;
        }
        .buttons {
            clear: left;
        }
        .nextButton, .prevButton { 
            margin: 1em 0.3em;
        }
        .prevButton {
            float: left;
        }
        .nextButton {
            float: right;
        }
        label img.choose-button {
            height: 30px;
        }
        .fontsize-small  { font-size: 18px;}
        .fontsize-medium { font-size: 23px;}
        .fontsize-large  { font-size: 28px;}
        .hidden { display: none; }
        .symbolset-symbols, .symbolsize-symbols { padding: 15px; }

        .ui-icon-speaker {
            background-image: url(lib/ttswidget/speaker22.png) !important;
        }
        button.ui-button-icon-only.tts-button .ui-icon {
            width: 22px;
            height: 22px;
            margin-left: -11px;
            margin-top: -11px;
        }
        .stages #symbolsize .ui-icon-symbol-small {
            background-image: url(symbols/ui/symbolsize25.png) !important;
            width: 25px;
            height: 25px;
            margin-left: -12px;
            margin-top: -12px;
        }
        .stages #symbolsize .ui-icon-symbol-medium {
            background-image: url(symbols/ui/symbolsize50.png) !important;
            width: 50px;
            height: 50px;
            margin-left: -25px;
            margin-top: -25px;
        }
        .stages #symbolsize .ui-icon-symbol-large {
            background-image: url(symbols/ui/symbolsize100.png) !important;
            width: 100px;
            height: 100px;
            margin-left: -50px;
            margin-top: -50px;
        }
        #loadingDiv {
            position: absolute;
            top: 10px;
            right: 10px;
        }
        .ui-tabs .titles.ui-tabs-nav li a {
            padding: .5em .6em
        }
        /* Vertical Tabs
        ----------------------------------*/

        .ui-tabs-vertical { width: 58em; }

        .ui-tabs-vertical .ui-tabs-nav { 
            padding: .2em .1em .2em .2em; 
            float: left; 

            width: 13em;

        }
        .ui-tabs-vertical.ui-tabs .ui-tabs-nav li.ui-tabs-active,
        .ui-tabs-vertical .ui-tabs-nav li { clear: left; width: 100%; border-bottom-width: 1px !important; border-right-width: 0 !important; margin: 0 -1px .2em 0; }
        .ui-tabs-vertical .ui-tabs-nav li a { display:block; }
        .ui-tabs-vertical .ui-tabs-nav li.ui-tabs-selected { padding-bottom: 0; padding-right: .1em; border-right-width: 1px; border-right-width: 1px; }
        .ui-tabs-vertical .ui-tabs-panel { 
            padding: 1em; 
            /* 
            float: right;
            width: 40em;
            */
        }



    </style>
</head>
<body>
    <header>
        <a href="#"><img class="logo" alt="Capkom Logo" src="symbols/Capkom_Logo.gif"/></a>
    </header>
    <div class="stages">
        <ul class="titles"></ul>
    </div>
    <footer>
        <div id="info">
            <a href="http://cap-kom.utilo.eu/" target="_blank">Capkom</a>
            -
            <a href="https://github.com/szabyg/capkom-wizard" target="_blank">Source code</a>
            -
            <a href="docs/wizard.html" target="_blank">Source code documentation</a>
            -
            <a href="javascript:localStorage.clear();window.location.reload()">Profil l√∂schen</a>
        </div>
    </footer>
    <div style="display:none;" id="bgThemeActivator"></div>
    <div id="loadingDiv" style="display:none;"><img src="css/spinner.gif"/></div>
    <script>
        
    </script>
</body>
</html>
